webpackJsonp([0],{174:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e){var t=e.handleLocationClick,n=e.location,o=e.name,a=e.className,l=r(e,["handleLocationClick","location","name","className"]),c=n.addressLine1,u=n.telephone,d=n.postcodeAfter,p=n.city,f=n.uid,m=n.deliveryMode,g=n.regularOpeningTime;return""===f?null:s.default.createElement("div",{className:"collection-card "+(a||"")},s.default.createElement("input",i({className:"collection-card__input",type:"radio",name:o,value:n.name,onChange:function(){return t(n)},id:f},l)),s.default.createElement("label",{className:"collection-card__card",htmlFor:f},s.default.createElement("div",{className:"collection-card__l"},s.default.createElement("div",{className:"collection-card__header"},s.default.createElement("h4",{className:"collection-card__title"},n.name),s.default.createElement("p",{className:"collection-card__address"},c,", ",p),s.default.createElement("p",{className:"collection-card__address"},d),s.default.createElement("p",{className:"collection-card__address"},u)),s.default.createElement("div",{className:"collection-card__content"},s.default.createElement("table",{className:"collection-card__opening"},s.default.createElement("tbody",null,g.map(function(e){return s.default.createElement("tr",{key:e.title.replace(/ /g,"-")},s.default.createElement("td",null,e.title),s.default.createElement("td",null,e.openingHours))}))),s.default.createElement("button",{className:"collection-card__link"},"Opening hours"))),s.default.createElement("div",{className:"collection-card__r"},s.default.createElement("strong",null,"Availability"),s.default.createElement("p",{className:"collection-card__availability"},m.leadTime))))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=a;var l=n(1),s=o(l),c=n(8),u=o(c);a.propTypes={handleLocationClick:u.default.func.isRequired,location:u.default.shape({uid:u.default.string.isRequired,name:u.default.string.isRequired,city:u.default.string,addressLine1:u.default.string,postcodeAfter:u.default.string,telephone:u.default.string,deliveryMode:u.default.shape({leadTime:u.default.string.isRequired}),regularOpeningTime:u.default.array}).isRequired,name:u.default.string.isRequired,className:u.default.string}},175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GOOGLE_PIN_LARGE="/src/googleMaps/black_pin.png",t.GOOGLE_PIN_LARGE_ACTIVE="/src/googleMaps/black_pin_selected.png",t.GOOGLE_PIN_XLARGE="/src/googleMaps/black_pin.png",t.GOOGLE_PIN_XLARGE_ACTIVE="/src/googleMaps/black_pin_selected.png",t.GOOGLE_PIN_SMALL="/src/googleMaps/black_pin.png",t.GOOGLE_PIN_SMALL_ACTIVE="/src/googleMaps/black_pin_selected.png",t.GOOGLE_PIN_POSTCODE="/src/googleMaps/grey_pin.png",t.MAP_STYLE=[{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#f2f2f2"}]},{featureType:"transit",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"},{color:"#c9c9c9"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"off"},{color:"#d7d7d7"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ebebeb"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{visibility:"off"},{color:"#d6d6d6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#dadada"}]}]},176:function(e,t,n){"use strict";function o(e){var t=e.latitude,n=e.longitude;return new window.google.maps.LatLng(t,n)}function r(e){return new Promise(function(t,n){(new window.google.maps.Geocoder).geocode({address:e},function(e,o){o===window.google.maps.GeocoderStatus.OK?t(e[0].geometry.location):n(e,o)})})}function a(e,t){return window.google.maps.event.addListenerOnce(e,"idle",function(){window.google.maps.event.addListener(e,"recenter",function(){window.google.maps.event.trigger(e,"resize"),e.setCenter(t)}),window.google.maps.event.addDomListener(window,"resize",function(){window.google.maps.event.trigger(e,"recenter")})}),e}function i(e,t){return r(t).then(function(t){var n=new window.google.maps.Map(document.getElementById(e),{zoom:12,zoomControl:!0,panControl:!0,streetViewControl:!1,mapTypeControl:!1,gestureHandling:"cooperative",mapTypeId:window.google.maps.MapTypeId.ROADMAP,center:t}),o=new window.google.maps.StyledMapType(l.MAP_STYLE,{name:"Grayscale"});return n.mapTypes.set("grey",o),n.setMapTypeId("grey"),n})}Object.defineProperty(t,"__esModule",{value:!0}),t.getGoogleLatLng=o,t.getGeocode=r,t.setCenterOnResize=a,t.createResponsiveMap=i;var l=n(175)},335:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),u=n(74),d=n(333),p=n(842),f=o(p),m=n(465),g=o(m),h=n(313),y=n(343),v=o(y),_=n(345),O=o(_);n(395);var T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.compose,b=(0,d.createStore)((0,d.combineReducers)({Collection:O.default,Forms:h.FormReducer}),T((0,d.applyMiddleware)(f.default))),E=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isGoogleApiLoaded:!1},e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;(0,g.default)({key:"AIzaSyA3ffj9TQGBB-vWlDL7shEe5cS7qa9NJ84"}).then(function(){e.setState({isGoogleApiLoaded:!0})}),b.dispatch({type:"SET_COLLECTION_CONFIG",endpointUrl:"/gb/store-locator/stock",endpointParams:{countryCode:"GB",productCode:"HH3269-257A100-A100"}})}},{key:"render",value:function(){return this.state.isGoogleApiLoaded?c.default.createElement(u.Provider,{store:b},c.default.createElement(v.default,{name:"Collection"})):null}}]),t}(s.Component);t.default=E},337:function(e,t,n){var o=n(1),r=n(181);r.__esModule&&(r=r.default),e.exports=o.createClass({displayName:"WrappedPageRenderer",getInitialState:function(){return{content:n(719)}},componentWillMount:function(){},render:function(){return o.createElement(r,Object.assign({},this.props,{content:this.state.content}))}})},338:function(e,t){},339:function(e,t){},340:function(e,t){},342:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(1),i=o(a),l=n(77),s=o(l),c=n(341),u=o(c),d=n(336);n(339),n(338),n(340);var p={},f=[{path:"/",title:"Introduction",component:n(337)},{path:"/store-locator",title:"Store Locator",component:n(335)}];s.default.render(i.default.createElement("div",null,i.default.createElement(u.default,{href:"https://github.com/undefined/ecommerce-store-locator",bannerColor:"#fff",octoColor:"#000",width:80,height:80,direction:"right"}),i.default.createElement(d.Catalog,{imports:p,pages:f,specimens:{javascript:function(e){return i.default.createElement(d.CodeSpecimen,r({},e,{lang:"javascript"}))},js:function(e){return i.default.createElement(d.CodeSpecimen,r({},e,{lang:"javascript"}))},jsx:function(e){return i.default.createElement(d.ReactSpecimen,e)}},title:"ecommerce-store-locator v1.0.1"})),document.getElementById("app"))},343:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return c({},e.Collection)}Object.defineProperty(t,"__esModule",{value:!0}),t.Collection=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(1),p=r(d),f=n(8),m=r(f),g=n(74),h=n(78),y=o(h),v=n(344),_=o(v),O=n(353),T=r(O),b=n(355),E=r(b),L=n(354),C=r(L),S=n(348),w=r(S),M=n(349),k=r(M),I=n(347),R=r(I),N=n(351),P=r(N),j=n(350),A=r(j),G=n(174),V=r(G),H=n(346),q=r(H),x=t.Collection=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePostcodeSearch=e.handlePostcodeSearch.bind(e),e.handleCollectFromLocation=e.handleCollectFromLocation.bind(e),e.handleChangeStore=e.handleChangeStore.bind(e),e}return l(t,e),u(t,[{key:"handlePostcodeSearch",value:function(e){var t=this.props,n=t.view,o=t.setCollectionView,r=t.findCollectionPoint,a=t.endpointUrl,i=t.endpointParams;o(n||y.LIST_VIEW),r(a,i,e)}},{key:"handleCollectFromLocation",value:function(){var e=this.props,t=e.activeMapLocation;(0,e.setSelectedStore)(t)}},{key:"handleChangeStore",value:function(){this.props.setChangeStore(!0)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.errorMsg,o=e.locations,r=e.view,a=e.postcode,i=e.activeMapLocation,l=e.setCollectionView,s=e.setActiveMapLocation,c=e.isLoading,u=e.isChangeStore,d=e.resetCollectionState,f=o.length>0;return p.default.createElement("div",{className:"collection-app"},p.default.createElement(T.default,{postcode:a,hasLocations:f,locations:o,handleChangeStore:this.handleChangeStore,isChangeStore:u},p.default.createElement(E.default,{name:t,handleResults:this.handlePostcodeSearch,isLoading:c,errorMsg:n}),p.default.createElement(C.default,{msg:n,handleSearchAgain:d})),p.default.createElement(q.default,{hasResults:f},p.default.createElement(R.default,{type:y.MAP_VIEW,activeType:r},p.default.createElement(P.default,{isVisible:y.MAP_VIEW===r,id:"collection-map",activeMapLocation:i,postcode:a,locations:o,handleMarkerClick:s}),p.default.createElement(V.default,{checked:!0,name:"selected-collection",className:"collection-map__active-location",location:i,handleLocationClick:s})),p.default.createElement(R.default,{type:y.LIST_VIEW,activeType:r},p.default.createElement(A.default,{handleLocationClick:s,activeLocation:i,locations:o})),p.default.createElement(w.default,{hasLocations:f},p.default.createElement("button",{disabled:""===i.uid,onClick:this.handleCollectFromLocation,className:"button collection-filter__primary"},"Select store"),p.default.createElement(k.default,{name:t,onChange:l,activeType:r}))))}}]),t}(d.Component);x.propTypes={endpointUrl:m.default.string,endpointParams:m.default.object,view:m.default.string.isRequired,name:m.default.string.isRequired,locations:m.default.array.isRequired,activeMapLocation:m.default.object.isRequired,postcode:m.default.string.isRequired,errorMsg:m.default.string,findCollectionPoint:m.default.func.isRequired,setCollectionView:m.default.func.isRequired,setActiveMapLocation:m.default.func.isRequired,isLoading:m.default.bool.isRequired,setSelectedStore:m.default.func.isRequired,setChangeStore:m.default.func.isRequired,resetCollectionState:m.default.func.isRequired,isChangeStore:m.default.bool.isRequired},t.default=(0,g.connect)(s,_)(x)},344:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return{type:y.SET_COLLECTION_VIEW,view:e}}function a(){return{type:y.RESET_COLLECTION}}function i(e){return function(t){t({type:y.SET_ACTIVE_MAP_LOCATION,location:e})}}function l(e){return{type:y.SET_COLLECTION_LOADING,isLoading:e}}function s(e){return{type:y.SET_COLLECTION_LOCATIONS,locations:e}}function c(e){return{type:y.SET_COLLECTION_FILTERS,postcode:e}}function u(e){return{type:y.SET_COLLECTION_ERROR_MSG,errorMsg:e}}function d(e){return{type:y.SET_SELECTED_STORE,selectedStore:e}}function p(e){return{type:y.SET_CHANGE_STORE,isChangeStore:e}}function f(e,t,n){return function(o){o(l(!0)),O.get(e,Object.assign({geolocation:n},t)).then(function(e){return(0,g.default)(e.stores)?(o(a()),o(u("We couldn't find stores near "+n+". View all stores with stock or enter another location.")),e):(o(s(e.stores)),o(c(n)),o(p(!1)),e)},function(){o(l(!1)),o(a()),o(u("Something went wrong. Please check your postcode and try again."))}).then(function(){return o(l(!1))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.setCollectionView=r,t.resetCollectionState=a,t.setActiveMapLocation=i,t.setCollectionLoading=l,t.setCollectionLocations=s,t.setCollectionFilters=c,t.setCollectionErrorMsg=u,t.setSelectedStore=d,t.setChangeStore=p,t.findCollectionPoint=f;var m=n(219),g=o(m),h=n(78),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),v=n(352),_=o(v),O={get:function(e,t){return console.log(1,"mock get request is fired!"),console.log(2,"url called",e),console.log(3,"data sent",t),Promise.resolve(_.default)}}},345:function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case i.SET_CHANGE_STORE:return r({},e,{isChangeStore:t.isChangeStore});case i.SET_SELECTED_STORE:return r({},l,{selectedStore:t.selectedStore});case i.SET_COLLECTION_CONFIG:return r({},e,{endpointUrl:t.endpointUrl,endpointParams:t.endpointParams});case i.SET_COLLECTION_LOADING:return r({},e,{isLoading:t.isLoading});case i.SET_COLLECTION_FILTERS:return r({},e,{postcode:t.postcode});case i.SET_COLLECTION_LOCATIONS:return r({},e,{locations:t.locations,errorMsg:void 0});case i.SET_ACTIVE_MAP_LOCATION:return r({},e,{activeMapLocation:r({},t.location)});case i.SET_COLLECTION_ERROR_MSG:return r({},l,{errorMsg:t.errorMsg});case i.SET_COLLECTION_VIEW:return r({},e,{view:t.view});case i.RESET_COLLECTION:return r({},l);default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=o;var a=n(78),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l={endpointUrl:"",endpointParams:{},view:i.LIST_VIEW,errorMsg:void 0,locations:[],isLoading:!1,isChangeStore:!1,postcode:"",activeMapLocation:{uid:"",name:"",addressLine1:"",latitude:0,longitude:0},selectedStore:null}},346:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.hasResults,n=e.children;return t?i.default.createElement("div",{id:"collection-results",className:"collection-view__results"},n):i.default.createElement("span",null)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),i=o(a),l=n(8),s=o(l);r.propTypes={hasResults:s.default.bool.isRequired,children:s.default.node.isRequired}},347:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.activeType,n=e.children,o=e.type;return i.default.createElement("div",{className:"collection-view__"+o.toLowerCase()+" "+(t!==o?"_is-hidden":"")},n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),i=o(a),l=n(8),s=o(l);r.propTypes={activeType:s.default.string.isRequired,type:s.default.string.isRequired,children:s.default.node.isRequired}},348:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.children;return e.hasLocations?i.default.createElement("div",{className:"collection-filter"},t):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),i=o(a),l=n(8),s=o(l);r.propTypes={hasLocations:s.default.bool.isRequired,children:s.default.node.isRequired}},349:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionViewChange=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),u=n(8),d=o(u),p=n(74),f=n(78),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),g=t.CollectionViewChange=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChangeView=n.handleChangeView.bind(n),n}return i(t,e),l(t,[{key:"handleChangeView",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this.props.activeType,t=e===m.LIST_VIEW,n=e===m.MAP_VIEW;return c.default.createElement("div",{className:"collection-filter__views"},!t&&c.default.createElement("label",{className:"button collection-filter__btn",htmlFor:"listView"},c.default.createElement("input",{onChange:this.handleChangeView,checked:e===m.LIST_VIEW,type:"radio",id:"listView",value:m.LIST_VIEW,name:"collectionFilter"}),"View list of stores"),!n&&c.default.createElement("label",{className:"button collection-filter__btn",htmlFor:"mapView"},c.default.createElement("input",{onChange:this.handleChangeView,checked:e===m.MAP_VIEW,type:"radio",id:"mapView",value:m.MAP_VIEW,name:"collectionFilter"}),"View stores on map"))}}]),t}(s.Component);g.propTypes={onChange:d.default.func.isRequired,activeType:d.default.string.isRequired},t.default=(0,p.connect)()(g)},350:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.locations,n=e.activeLocation,o=e.handleLocationClick;return i.default.createElement("div",{className:"collection-location-list"},i.default.createElement("div",{className:"collection-location-list__items"},t.map(function(e){return i.default.createElement(u.default,{name:"collection-location",checked:e.uid===n.uid,key:""+e.name+e.uid,handleLocationClick:o,location:e})})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),i=o(a),l=n(8),s=o(l),c=n(174),u=o(c);r.propTypes={handleLocationClick:s.default.func.isRequired,activeLocation:s.default.object.isRequired,locations:s.default.array.isRequired}},351:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionGoogleMapRenderer=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),u=n(8),d=o(u),p=n(219),f=o(p),m=n(176),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),h=n(356),y=o(h),v=t.CollectionGoogleMapRenderer=function e(t){var n=this,o=t.id,r=t.postcode,a=t.locations,l=t.activeMapLocation,s=t.handleMarkerClick;return i(this,e),g.createResponsiveMap(o,r).then(function(e){n.map=e,n.markers=new y.default(e,12,13),n.markers.setMarkers(a,l,s);var t=new window.google.maps.LatLngBounds;return n.markers.setCurrentLocationMarker(r).then(function(e){return t.extend(e.getPosition())}),n.markers.getMarkers().forEach(function(e){return t.extend(e.getPosition())}),n.markers.changeMarkersOnZoom(),n.map.fitBounds(t),g.setCenterOnResize(e,t.getCenter()),n})},_=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.hasSearchChanged=e.hasSearchChanged.bind(e),e}return a(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.activeMapLocation,o=t.isVisible,r=n.uid!==e.activeMapLocation.uid,a=this.locationsMap&&e.activeMapLocation.uid,i=a&&!o&&e.isVisible;this.hasSearchChanged(e)&&(this.locationsMap=void 0),i&&this.locationsMap.then(function(e){var t=e.map;window.google.maps.event.trigger(t,"recenter")}),a&&r&&this.locationsMap.then(function(t){t.markers.toggleActiveMarker(e.activeMapLocation)})}},{key:"shouldComponentUpdate",value:function(e){var t=e.isVisible&&!this.locationsMap;return this.hasSearchChanged(e)||t}},{key:"hasSearchChanged",value:function(e){return this.props.postcode!==e.postcode}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.locations,o=e.postcode;return e.isVisible?((0,f.default)(n)||(0,f.default)(o)||(this.locationsMap=new v(this.props)),c.default.createElement("div",{id:t,className:"collection-map__map map-container"})):c.default.createElement("span",null)}}]),t}(s.Component);t.default=_,_.propTypes={activeMapLocation:d.default.shape({name:d.default.string.isRequired,uid:d.default.string,distance:d.default.number}),locations:d.default.array.isRequired,postcode:d.default.string.isRequired,id:d.default.string.isRequired,isVisible:d.default.bool.isRequired}},352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={stores:[{addressLine1:"50 New Bond Street",city:"London",deliveryMode:{code:"dpd-standard-collectFromStoreStock-uk-mainland",leadTime:"Available now"},latitude:"51.512057",longitude:"-0.144096",name:"London - New Bond Street",postcodeAfter:"W1S 1BJ",regularOpeningTime:[{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Monday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Tuesday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Wednesday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Thursday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Friday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Saturday"},{extendedOpeningTime:!1,openingHours:"12pm - 6pm",regularOpeningTime:!0,title:"Sunday"},{extendedOpeningTime:!1,openingHours:"11am - 6pm",regularOpeningTime:!0,title:"Bank Holidays"}],telephone:"+44 20 7491 3900",todayOpeningHours:"",uid:"london-new-bond-street"},{addressLine1:"171-175 Brompton Road",city:"London",deliveryMode:{code:"dpd-standard-collectFromStoreStock-uk-mainland",leadTime:"Available now"},latitude:"51.498678",longitude:"-0.165305",name:"London - Brompton Road",postcodeAfter:"SW3 1NF",postcodeBefore:"SW3 1NF",regularOpeningTime:[{extendedOpeningTime:!1,openingHours:"10am - 8pm",regularOpeningTime:!0,title:"Monday"},{extendedOpeningTime:!1,openingHours:"10am - 8pm",regularOpeningTime:!0,title:"Tuesday"},{extendedOpeningTime:!1,openingHours:"10am - 8pm",regularOpeningTime:!0,title:"Wednesday"},{extendedOpeningTime:!1,openingHours:"10am - 8pm",regularOpeningTime:!0,title:"Thursday"},{extendedOpeningTime:!1,openingHours:"10am - 8pm",regularOpeningTime:!0,title:"Friday"},{extendedOpeningTime:!1,openingHours:"10am - 8pm",regularOpeningTime:!0,title:"Saturday"},{extendedOpeningTime:!1,openingHours:"12pm - 6pm",regularOpeningTime:!0,title:"Sunday"}],telephone:"+44 20 7838 1411",todayOpeningHours:"",uid:"london-brompton-road"},{addressLine1:"Unit 1013, Westfield Shopping Centre,",addressLine2:"Ariel Way, White City",city:"London",deliveryMode:{code:"dpd-standard-collectInStore-uk-mainland",leadTime:"1 - 3 working days"},latitude:"51.506115",longitude:"-0.220016",name:"London - The Village Westfield White City",postcodeAfter:"W12 7GB",regularOpeningTime:[{extendedOpeningTime:!1,openingHours:"10am - 9pm",regularOpeningTime:!0,title:"Monday"},{extendedOpeningTime:!1,openingHours:"10am - 9pm",regularOpeningTime:!0,title:"Tuesday"},{extendedOpeningTime:!1,openingHours:"10am - 9pm",regularOpeningTime:!0,title:"Wednesday"},{extendedOpeningTime:!1,openingHours:"10am - 9pm",regularOpeningTime:!0,title:"Thursday"},{extendedOpeningTime:!1,openingHours:"10am - 9pm",regularOpeningTime:!0,title:"Friday"},{extendedOpeningTime:!1,openingHours:"10am - 9pm",regularOpeningTime:!0,title:"Saturday"},{extendedOpeningTime:!1,openingHours:"12pm - 6pm",regularOpeningTime:!0,title:"Sunday"}],telephone:"+44 20 8735 2991",todayOpeningHours:"",uid:"london-westfield-shopping-centre"},{addressLine1:"11-12 Gees Court, St Christopher's Place",city:"London",deliveryMode:{code:"dpd-standard-collectInStore-uk-mainland",leadTime:"1 - 3 working days"},latitude:"51.514582",longitude:"-0.150023",name:"London - St Christopher's Place",postcodeAfter:"W1U 1JN",regularOpeningTime:[{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Monday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Tuesday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Wednesday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Thursday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Friday"},{extendedOpeningTime:!1,openingHours:"10am - 7pm",regularOpeningTime:!0,title:"Saturday"},{extendedOpeningTime:!1,openingHours:"12pm - 6pm",regularOpeningTime:!0,title:"Sunday"},{extendedOpeningTime:!1,openingHours:"12pm - 6pm",regularOpeningTime:!0,title:"Bank Holidays"}],telephone:"+44 20 7629 3830",todayOpeningHours:"",uid:"london-st-christophers-place"}]}},353:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.children,n=e.handleChangeStore,o=e.hasLocations,r=e.locations,a=e.postcode,l=e.isChangeStore,s=i.default.createElement("div",{className:"collection-search__msg"},i.default.createElement("p",null,r.length," stores found near ",a,". Select a store from the list/map and press 'Select Store' to continue."),i.default.createElement("button",{className:"collection-search__change",onClick:n},"Change Location"));return i.default.createElement("div",{className:"collection-search__container"},o&&!l&&s,(!o||l)&&t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),i=o(a),l=n(8),s=o(l);r.propTypes={children:s.default.any,postcode:s.default.string,locations:s.default.array.isRequired,hasLocations:s.default.bool.isRequired,isChangeStore:s.default.bool.isRequired,handleChangeStore:s.default.func.isRequired}},354:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.msg,n=e.handleSearchAgain;return t?i.default.createElement("div",null,i.default.createElement("div",{className:"collection-search__error"},t),i.default.createElement("button",{className:"collection-search__all-stock"},"View all stores with stock"),i.default.createElement("button",{className:"collection-search__btn--secondary",onClick:n},"Search again")):i.default.createElement("span",null)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(1),i=o(a),l=n(8),s=o(l);r.propTypes={msg:s.default.string,handleSearchAgain:s.default.func.isRequired}},355:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),u=n(8),d=o(u),p=n(313),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSetCurrentLocation=n.handleSetCurrentLocation.bind(n),n.formName=e.name+"-postcodeSearch",n.validation={rules:{postcode:{required:!0}},messages:{postcode:{required:"Please enter a valid postcode"}}},n.state={geolocation:{},hasGeolocation:!0,isGeolocationAvailable:!1,isLoadingLocation:!1},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){"geolocation"in navigator&&this.setState({isGeolocationAvailable:!0})}},{key:"handleSetCurrentLocation",value:function(){var e=this;this.setState({isLoadingLocation:!0}),navigator.geolocation.getCurrentPosition(function(t){e.setState({isLoadingLocation:!1,geolocation:t.coords}),e.props.handleResults(t.coords.latitude+","+t.coords.longitude)},function(){return e.setState({hasGeolocation:!1,geolocationError:"Please enable geolocation in your browser to use this functionality",isLoadingLocation:!1})})}},{key:"render",value:function(){var e=this.props,t=e.handleResults,n=e.isLoading,o=e.errorMsg,r=this.state,a=r.isGeolocationAvailable,i=r.hasGeolocation,l=r.isLoadingLocation,s=r.geolocationError,u=r.geolocation;return o?null:c.default.createElement("div",{className:"collection-search"},c.default.createElement("h4",null,"Collect in store"),c.default.createElement(p.Form,{formName:this.formName,handleValidForm:function(e){return t(e.postcode)},validation:this.validation},c.default.createElement("label",{htmlFor:"collection-postcode"},"Search stores by postcode"),c.default.createElement("div",{className:"collection-search__input"},c.default.createElement("input",{type:"text",name:"postcode",value:"",id:"collection-postcode"}),c.default.createElement(p.FormError,{forInput:"postcode"}),c.default.createElement("button",{className:"collection-search__icon icon-magnifying-glass "+(n?"_is-loading":""),disabled:n},"Search"))),a&&c.default.createElement("button",{className:"collection-search__btn--secondary",onClick:this.handleSetCurrentLocation,disabled:!i,title:s},l?"Finding stores near you":"Use current location"),u.latitude?u.latitude+","+u.longitude:"")}}]),t}(s.Component);t.default=f,f.propTypes={name:d.default.string.isRequired,errorMsg:d.default.string,handleResults:d.default.func.isRequired,isLoading:d.default.bool.isRequired}},356:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(175),l=o(i),s=n(176),c=o(s),u=function(){function e(t,n,o){r(this,e),this.map=t,this.zoomNumberForSmallIcons=n,this.zoomNumberForXLargeIcons=o}return a(e,[{key:"setMarkers",value:function(e,t,n){this.markers=this.getSetMarkers(e,t,n)}},{key:"getMarkers",value:function(){return this.markers}},{key:"getSetMarkers",value:function(e,t,n){var o=this;return e.map(function(e,r){var a=o.getSetMarker(c.getGoogleLatLng({latitude:e.latitude,longitude:e.longitude}),o.getMarkerURL(e,t));return a.addListener("click",function(){return n(e)}),a.set("uid",e.uid),a.set("labelIndex",r),a.set("active",e.uid===t.uid),a})}},{key:"getSetMarker",value:function(e,t){return new window.google.maps.Marker({map:this.map,position:e,icon:t})}},{key:"getActiveMarker",value:function(){return this.markers.filter(function(e){return e.active})[0]}},{key:"isSmallMarkers",value:function(){return this.map.getZoom()<this.zoomNumberForSmallIcons}},{key:"isXLargeMarkers",value:function(){return this.map.getZoom()>this.zoomNumberForXLargeIcons}},{key:"getMarkerLabel",value:function(e){var t=String.fromCharCode("A".charCodeAt(0)+e.get("labelIndex"));return this.isSmallMarkers()?{text:t,color:"#FFFFFF"}:""}},{key:"getMarkerURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="LARGE";this.isSmallMarkers()&&(n="SMALL"),this.isXLargeMarkers()&&(n="XLARGE");var o="GOOGLE_PIN_"+n,r=o+"_ACTIVE";return e.uid===t.uid?l[r]:l[o]}},{key:"setMarkersIconAndLabel",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach(function(t){t&&(t.setIcon(e.getMarkerURL(t,n)),t.set("active",t.uid===n.uid))})}},{key:"setCurrentLocationMarker",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.GOOGLE_PIN_POSTCODE;return c.getGeocode(e).then(function(e){return n.getSetMarker(e,o)})}},{key:"toggleActiveMarker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getActiveMarker(),n=this.getMarkers().filter(function(t){return t.uid===e.uid})[0];this.setMarkersIconAndLabel([t,n],n)}},{key:"changeMarkersOnZoom",value:function(){var e=this;this.map.addListener("zoom_changed",function(){return e.setMarkersIconAndLabel(e.getMarkers(),e.getActiveMarker())})}}]),e}();t.default=u},395:function(e,t){},719:function(e,t){e.exports='[![build status](https://secure.travis-ci.org/survivejs/react-component-boilerplate.svg)](http://travis-ci.org/survivejs/react-component-boilerplate) [![bitHound Score](https://www.bithound.io/github/survivejs/react-component-boilerplate/badges/score.svg)](https://www.bithound.io/github/survivejs/react-component-boilerplate) [![Dependency Status](https://david-dm.org/survivejs/react-component-boilerplate.svg)](https://david-dm.org/survivejs/react-component-boilerplate)\n\n# react-component-boilerplate - Boilerplate for React.js components\n\nThis is a simple boilerplate that has been developed to make it easier to develop React components and small projects.\n\n> Check out [SurviveJS - Webpack and React](http://survivejs.com/) to dig deeper into the topic.\n\n## Basic Usage\n\nClone the repo : `git clone https://github.com/survivejs/react-component-boilerplate my-component`.\n\nTo get started with fresh history, do this:\n\n1. `cd my-component`\n2. `rm -rf .git` - Remove Git database\n3. `git init` - Initialize a new Git repository\n4. `git add .` - Add all files to staging\n5. `git commit -am "Initial commit"` - Commit the files\n\nAfter this you should push the project to some remote.\n\nIf you want to replace project meta information (author etc.), consider using a tool like [replace-project-meta](https://www.npmjs.com/package/replace-project-meta).\n\n### Common Tasks\n\n* Developing - **npm start** - Runs the development server at *localhost:8080* and use Hot Module Replacement. You can override the default host and port through env (`HOST`, `PORT`).\n* Creating a version - **npm version <x.y.z>** - Updates */dist* and *package.json* with the new version and create a version tag to Git.\n* Publishing a version - **npm publish** - Pushes a new version to npm and updates the project site.\n\n### Testing\n\nThe test setup is based on Jest. Code coverage report is generated to `coverage/`. The coverage information is also uploaded to codecov.io after a successful Travis build.\n\n* Running tests once - **npm test**\n* Running tests continuously - **npm run test:watch**\n* Running individual tests - **npm test -- <pattern>** - Works with `test:watch` too.\n* Linting - **npm run test:lint** - Runs ESLint.\n\n### Documentation Site\n\nThe boilerplate includes a [GitHub Pages](https://pages.github.com/) specific portion for setting up a documentation site for the component. The main commands handle with the details for you. Sometimes you might want to generate and deploy it by hand, or just investigate the generated bundle.\n\n* Building - **npm run gh-pages** - Builds the documentation into `./gh-pages` directory.\n* Deploying - **npm run deploy-gh-pages** - Deploys the contents of `./gh-pages` to the `gh-pages` branch. GitHub will pick this up automatically. Your site will be available through *<user name>.github.io/<project name>`.\n* Generating stats - **npm run stats** - Generates stats that can be passed to [webpack analyse tool](https://webpack.github.io/analyse/). This is useful for investigating what the build consists of.\n\n## Highlighting Demo for the Site\n\n```js\nvar a = 5;\nvar b = 10;\n\n// just trying out code highlighting feature here\nconsole.log(a + b);\n```\n\n## License\n\n*react-component-boilerplate* is available under MIT. See LICENSE for more details.\n\n'},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_COLLECTION_LOADING="SET_COLLECTION_LOADING",t.SET_COLLECTION_LOCATIONS="SET_COLLECTION_LOCATIONS",t.SET_COLLECTION_ERROR_MSG="SET_COLLECTION_ERROR_MSG",t.SET_COLLECTION_FILTERS="SET_COLLECTION_FILTERS",t.SET_ACTIVE_MAP_LOCATION="SET_ACTIVE_MAP_LOCATION",t.RESET_COLLECTION="RESET_COLLECTION",t.SET_COLLECTION_VIEW="SET_COLLECTION_VIEW",t.SET_COLLECTION_CONFIG="SET_COLLECTION_CONFIG",t.SET_SELECTED_STORE="SET_SELECTED_STORE",t.SET_CHANGE_STORE="SET_CHANGE_STORE",t.MAP_VIEW="MAP_VIEW",t.LIST_VIEW="LIST_VIEW"}},[342]);